---
layout: post
title: "Mega-cli cloud"
date: 2025-11-26 11:28 +0545
categories: ["backup"]
tags: ["cli"]
author: sudiplun
excerpt:
---

## Your MEGA Cloud with `mega-cmd`

The `mega-cmd` line tool offers powerful ways to manage your files, including robust synchronization, scheduling, and versioned backups. Here are the essential commands you need to know.

### File Synchronization

The `sync` command keeps a local folder and a remote MEGA folder identical.

| Action                 | Command Example                         | Description                                                                                        |
| :--------------------- | :-------------------------------------- | :------------------------------------------------------------------------------------------------- |
| **Start a New Sync**   | `sync /local/folder /mega/remoteFolder` | Initiates a bi-directional sync between the local and remote paths.                                |
| **Stop/Remove a Sync** | `sync -d <sync_ID>`                     | Stops and removes an existing sync using its unique ID (use `sync` with no arguments to list IDs). |

---

### Scheduled and Versioned Backups

The `backup` command creates a one-way, versioned backup of your local data to the MEGA cloud.

| Action                      |                                 Command Example                                  | Description                                                                                                                            |
| :-------------------------- | :------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------- |
| **Create a New Backup**     | `backup /local/folder /mega/backupFolder --period="0 0 4 * * *" --num-backups=3` | Creates a new backup. **`--period`** uses cron format (here: every day at 4:00 AM). **`--num-backups`** sets the max versions to keep. |
| **Remove a Backup**         |                          `backup -d /local/path/folder`                          | Permanently deletes a configured backup job using the **local path** as the identifier.                                                |
| **List Configured Backups** |                                     `backup`                                     | Lists all active backup jobs, showing the unique **`TAG`**, local path, remote path, and status.                                       |

---

### How to Edit Existing Backup Scheduling and Versioning

Once a backup is created, you can easily modify its schedule or versioning limits using the unique **`TAG`** shown when you list your backups.

#### **1. Find Your Backup TAG**

Run the simple list command:

```bash
backup
```

**Example Output:**

|  TAG  | LOCALPATH       | REMOTEPARENTPATH  | STATUS |
| :---: | :-------------- | :---------------- | :----- |
| **4** | /home/user/data | /mega/data_backup | ACTIVE |

Use the **`TAG`** (e.g., **`4`**) for all subsequent edits.

#### **2. Modify the Backup Settings**

Use the `TAG` as the identifier, followed by the specific option you want to change.

| Action                   | Command Example                                    | Purpose                                                                                                       |
| :----------------------- | :------------------------------------------------- | :------------------------------------------------------------------------------------------------------------ |
| **Change Schedule**      | `backup 4 --period=2h`                             | Changes the backup frequency (e.g., to every 2 hours). Accepts cron format or simple time (e.g., `2h`, `1d`). |
| **Change Version Count** | `backup 4 --num-backups=5`                         | Changes the maximum number of backup snapshots to keep (e.g., keeping 5 versions).                            |
| **Change Both**          | `backup 4 --period="0 30 3 * * *" --num-backups=3` | Changes the schedule (e.g., 3:30 AM daily) and the number of versions simultaneously.                         |

> **Note:** You can use the local path instead of the `TAG` (e.g., `backup /home/user/data --period=1d`), but the `TAG` is generally recommended for precision.
